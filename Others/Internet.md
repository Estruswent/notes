---
profileName: Estruswent
postId: "2353"
postType: post
categories:
  - 1
---
## IP
### IPv4
4个段，每个段8位，32位整数表示IPv4（地址已耗尽）
理论上有2^32个地址，但不是所有都可以使用

### IPv6
8个段，每段16位
简化了IPv4存在的地址分配问题
2001:da8:e000:731a:ff00:0:0:642d
全0段可以省略为::

### 广域网与局域网

#### 广域网
跨越大范围的网络，如互联网

#### 局域网
小范围的网络
局域网之间的主机可以互相访问，但不能直接访问互联网
一台主机可以有多个IP
一个主机可以有多个网卡，每个网卡可以有多个IP地址

### 回环地址
指向自身
127.0.0.1/::1/loaclhost

### 网关
将不同网络连接起来的设备
例如链接局域网和互联网的路由器
局域网内主机网关是路由器的IP地址

### 子网：将一个大的IP地址段划分为多个小的IP地址
子网掩码用于判断两个IP地址是否在一个子网内

### NAT：网络地址转换
将局域网内的多个主机共享同一个公网IP地址

## 传输层协议TCP & UDP

### OSI七层模型 & TCP/IP四层模型

#### OSI七层模型

1. **物理层**：负责传输原始比特流，通过物理媒介实现设备之间的通信。
2. **数据链路层**：在相邻节点之间提供数据传输的功能，负责帧的传输和错误检测。
3. **网络层**：负责数据包从源到目的地的传输和路由选择，通过逻辑地址寻址。
4. **传输层**：提供端到端的数据传输服务，确保数据的正确性和有效性。
5. **会话层**：负责建立、管理和终止会话，实现不同应用进程之间的通信。
6. **表示层**：确保数据在网络中传输前后的表示格式一致，如加密、压缩和字符编码。
7. **应用层**：为应用软件提供网络服务，是用户与网络的接口。

#### TCP/IP四层模型

1. **网络接口层**：对应OSI模型的物理层和数据链路层，负责数据的物理传输。
2. **互联网层**：对应OSI模型的网络层，负责数据包的路由和传输，主要协议为IP。
3. **传输层**：对应OSI模型的传输层，负责提供端到端的通信服务，主要协议为TCP和UDP。
4. **应用层**：涵盖了OSI模型的会话层、表示层和应用层，负责处理高级应用程序间的通信。

### TCP：传输控制协议
面向连接的协议
保证数据能传到（或报错）

### UDP：用户数据报协议
无连接
单向传输，不保证顺序，不保证可靠性

### 端口
端口号范围0-65535
0-1023为系统保留端口，一般不用于通信服务
一般情况下，不同软件使用不同的端口号

## 域名系统和DNS

### 域名

标识互联网上的计算机
最右侧为顶级域名：.com .top .net .org等
从右至左以此为二级、三级域名等：www.example.com
可以设置任意多的子域名

### DNS记录

域名下面可以有任意多条DNS记录
记录了如何处理对域名的请求
将域名映射到IPv4的记录称为A记录
还有AAAA（IPv6）、MX（邮箱）、CNAME（别名）、TXT（文本信息）等
TTL（Time To Live）表示该记录的缓存时间

### DNS服务器
访问一个域名时，计算机回想DNS服务器查询域名对应的DNS记录
一般来说，有可能会向其他DNS服务器查询，直到找到所需记录
DNS的分配端口为TCP/UDP 53

## 应用层协议HTTP

基于文本的协议，在客户端和服务器之间传输网页

### 客户端-服务器架构（C/S）
发起连接的节点为客户端，接受连接的节点为服务器，服务器不能主动发起连接
服务器不一定只能处理HTTP要求（比如DNS服务器）
服务器可以同时处理多个客户端的连接，客户端在本地选取一个空闲的高端口号，连接到服务器的80端口

$$
client:49152 \leftrightarrow server:80
$$

### DoS攻击：
通过大量输入无效信息到80端口

### DDoS攻击：
“分布式拒绝服务攻击”，控制大量的计算机，同时向目标发送大量的请求

### URL：统一资源定位符
图？
URI的一种，用于定位互联网上的资源
URL只能包含ASCII字符

### HTTP 请求方法
nc 域名 80
GET xxxxxxxxx HTTP/1.x
HTTP/1.x 请求的第一行由请求方法、路径等组成，是基于TCP的文本协议
HTTP/2 基于TCP的二进制协议，不再人类可读，性能更高
HTTP/3 基于QUIC协议，抛弃TCP，建立在UDP之上，通过其他手段解决UDP不可靠性
GET 获取资源
POST 用于提交数据
PUT 更新资源

### 标头、请求体、响应体
标头是由键值对组成的文本
冒号分隔键与值

## Web三剑客
- HTML：
超文本标记语言（是标记语言，不是编程语言）
- JavaScript：
是编程语言，与Java没啥关系，也可用于通用编程：Node.js
用于实现网页的**交互功能**，由`<script>`标签引入
- CSS：
层叠样式表（是样式表语言）
描述样式、布局、视觉效果和呈现方式，仅用CSS也可以实现非常复杂的动画效果
CSS选择器：规定了CSS规则会被应用到哪些元素上

## 搭建网站
- 静态网页：完全“按原样”呈现给浏览器的网页
静态网页托管服务比如GitHub Pages等，构建用户界面的库比如Tailwind CSS、Vue.js等，静态网页/博客生成器比如Hexo、MkDocs等
- 动态网页：根据用户的请求动态生成内容的网页
wordpress内容管理系统

## HTTPS

### HTTP与HTTPS
HTTP中一切都是明文传输，两节点中的任何一个中间节点都可以窃听并干扰通信内容
HTTPS（HTTP over TLS）
传输层安全协议（TLS）,旧称安全套接层（SSL）

### 通信安全

#### 对称加密算法：
如AES、ChaCha20等

**Diffie-Hellman密钥交换**：
不能解决中间人攻击：E作为中间人，“两边骗”（国内无法访问的网站就是依据此，传给你一些虚信息导致你无法访问）
$$
A \longleftrightarrow B 
$$
$$
A \longleftrightarrow E \longleftrightarrow B
$$

#### 非对称密码学：
**RSA公钥密码学**：
基于数学假设：大整数的因式分解是困难的（给定大质数p和q，计算pq很容易但反向分解出却很困难）
**ECC椭圆曲线密码学**：
基于椭圆曲线上的离散对数问题。
相比RSA，ECC能在更短的密钥长度下提供相同的安全性。
后量子密码学：基于格、哈希函数、代码等构建的密码学（前沿）

#### TLS证书与CA

证书：数字签名的公钥，有一个双方都相信的第三者CA签发，CA通过其他手段验证B身份，签发B的证书，A信任CA，那么他也就信任B的证书，进而信任B
> 如何确保CA可信？
根证书，约150个（根证书是自签名的且被信任。）

#### mTLS
一般服务器需要向客户端证明自己，而有时客户端也需要向服务器证明自己